{"version":3,"sources":["components/layout/Loader.jsx","utils/setAuthToken.jsx","api/reducers/authReducer.js","api/contexts/contants.js","api/contexts/AuthContext.jsx","components/routing/ProtectedRoute.jsx","components/layout/AlertMessage.jsx","components/Auth/Login.jsx","components/Auth/Register.jsx","components/Auth/Auth.jsx","components/ListUser.jsx","components/Message.jsx","components/Chat.jsx","App.js","index.js"],"names":["Loader","className","setAuthToken","token","axios","defaults","headers","common","authReducer","state","action","type","payload","isAuthenticated","user","loading","LOCAL_STORAGE_TOKEN_NAME","AuthContext","createContext","AuthContextProvider","children","useReducer","authState","dispatch","loadUser","a","localStorage","get","response","data","success","console","log","removeItem","useEffect","authContextData","login","userData","post","setItem","accessToken","message","register","logout","Provider","value","ProtectedRoute","Component","component","rest","useContext","render","props","to","AlertMessage","info","Alert","variant","Login","useState","username","password","loginForm","setLoginForm","alert","setAlert","handleOnChange","e","target","name","handleSubmit","preventDefault","loginData","setTimeout","onSubmit","htmlFor","onChange","id","Register","fullname","confirmPassword","registerForm","setRegisterForm","fulname","registerData","Auth","body","authRoute","ListUser","conversation","currentUser","setUser","friendId","members","find","member","_id","Error","getUser","src","avatar","alt","Message","owner","ReactEmoji","emojify","text","format","createdAt","Chat","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","userAnother","setUserAnother","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","scrollRef","useRef","handleLogOut","socket","current","io","on","sender","senderId","Date","now","includes","prev","emit","users","getConversation","getMessage","content","trim","conversationId","receiverId","handleKeyPress","key","scrollIntoView","behavior","m","getUserAnother","placeholder","map","onClick","ref","onKeyDown","role","data-dismiss","aria-label","aria-hidden","App","fallback","exact","from","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5de9dd2.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Loader = () => {\r\n    return <div className=\"loader\"></div>;\r\n};\r\n\r\nexport default Loader;","import axios from 'axios';\r\n\r\nconst setAuthToken = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common['Authorization'] = `${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n\r\nexport default setAuthToken;\r\n","export const authReducer = (state, action) => {\r\n  const {\r\n    type,\r\n    payload: { isAuthenticated, user },\r\n  } = action;\r\n\r\n  switch (type) {\r\n    case 'SET_AUTH':\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isAuthenticated,\r\n        user,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","export const LOCAL_STORAGE_TOKEN_NAME = 'userChat';\r\n\r\nexport const URL_SOCKET = process.env.NODE_ENV !== 'production'\r\n    ? 'http://localhost:9000'\r\n    : 'https://chat-chill.herokuapp.com';\r\n","import axios from 'axios';\r\nimport { createContext, useEffect, useReducer } from 'react';\r\nimport setAuthToken from 'utils/setAuthToken';\r\nimport { authReducer } from '../reducers/authReducer';\r\nimport { LOCAL_STORAGE_TOKEN_NAME } from './contants';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthContextProvider = ({ children }) => {\r\n  const [authState, dispatch] = useReducer(authReducer, {\r\n    // trạng thái ban đầu\r\n    loading: true,\r\n    isAuthenticated: false,\r\n    user: null,\r\n  });\r\n\r\n  // Authenticate user\r\n  const loadUser = async () => {\r\n    if (localStorage[LOCAL_STORAGE_TOKEN_NAME]) {\r\n      setAuthToken(localStorage[LOCAL_STORAGE_TOKEN_NAME]);\r\n    }\r\n    try {\r\n      const response = await axios.get(`/api/auth/infor`);\r\n      if (response.data.success) {\r\n        dispatch({\r\n          type: 'SET_AUTH',\r\n          payload: { loading: false, isAuthenticated: true, user: response.data.user },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      localStorage.removeItem(LOCAL_STORAGE_TOKEN_NAME);\r\n      setAuthToken(null);\r\n      dispatch({\r\n        type: 'SET_AUTH',\r\n        payload: { isAuthenticated: false, user: null },\r\n      });\r\n    }\r\n  };\r\n  // chạy loadUser trước khi authContext render ra\r\n  useEffect(() => loadUser(), []);\r\n  //   login\r\n  const login = async (userData) => {\r\n    try {\r\n      const response = await axios.post(`/api/auth/login`, userData);\r\n      if (response.data.success)\r\n        localStorage.setItem(LOCAL_STORAGE_TOKEN_NAME, response.data.accessToken);\r\n      // check lấy user thành công\r\n      await loadUser();\r\n\r\n      return response.data;\r\n    } catch (error) {\r\n      return error.response.data ? error.response.data : { success: false, message: error.message };\r\n    }\r\n  };\r\n  // Register\r\n  const register = async (userData) => {\r\n    try {\r\n      const response = await axios.post(`/api/auth/register`, userData);\r\n      if (response.data.success)\r\n        localStorage.setItem(LOCAL_STORAGE_TOKEN_NAME, response.data.accessToken);\r\n\r\n      await loadUser();\r\n\r\n      return response.data;\r\n    } catch (error) {\r\n      return error.response.data ? error.response.data : { success: false, message: error.message };\r\n    }\r\n  };\r\n\r\n  // logout\r\n  const logout = async () => {\r\n    localStorage.removeItem(LOCAL_STORAGE_TOKEN_NAME);\r\n    dispatch({\r\n      type: 'SET_AUTH',\r\n      payload: { isAuthenticated: false, user: null },\r\n    });\r\n  };\r\n\r\n  //  context data\r\n  const authContextData = { login, register, authState, logout };\r\n\r\n  //   return provider\r\n  return <AuthContext.Provider value={authContextData}>{children}</AuthContext.Provider>;\r\n};\r\n\r\nexport default AuthContextProvider;\r\n","import Loader from 'components/layout/Loader'\r\nimport { useContext } from 'react'\r\nimport { Redirect, Route } from 'react-router-dom'\r\nimport { AuthContext } from '../../api/contexts/AuthContext'\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n\tconst {\r\n\t\tauthState: { loading, isAuthenticated }\r\n\t} = useContext(AuthContext)\r\n\r\n\tif (loading)\r\n\t\treturn (\r\n            <Loader/>\r\n\t\t)\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={props =>\r\n\t\t\t\tisAuthenticated ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Component {...rest} {...props} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to='/login' />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default ProtectedRoute","import { Alert } from \"react-bootstrap\";\r\n\r\nconst AlertMessage = ({info}) =>{\r\n    return info === null ? null: (\r\n        <Alert variant={info.type}>{info.message}</Alert>\r\n    )\r\n}\r\n\r\nexport default AlertMessage","import { AuthContext } from 'api/contexts/AuthContext';\r\nimport React, { Fragment, useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AlertMessage from 'components/layout/AlertMessage';\r\n\r\nconst Login = () => {\r\n  const { login } = useContext(AuthContext);\r\n\r\n  const [loginForm, setLoginForm] = useState({\r\n    username: '',\r\n    password: '',\r\n  });\r\n\r\n  const { username, password } = loginForm;\r\n  const [alert, setAlert] = useState(null);\r\n\r\n  const handleOnChange = (e) => {\r\n    setLoginForm({ ...loginForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const loginData = await login(loginForm);\r\n      if (!loginData.success) {\r\n        setAlert({ type: 'danger', message: loginData.message });\r\n        setTimeout(() => setAlert(null), 5000);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <div className=\"row wrapper\">\r\n        <div className=\"col-10 col-lg-5\">\r\n          <form className=\"shadow-lg\" onSubmit={handleSubmit}>\r\n            <h1 className=\"mb-3 title\">Chat App</h1>\r\n            <h3 className=\"mb-3 title\">Đăng Nhập</h3>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"username_field\">Username</label>\r\n              <input\r\n                type=\"name\"\r\n                className=\"form-control\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={handleOnChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password_field\">Mật khẩu</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"password_field\"\r\n                className=\"form-control\"\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={handleOnChange}\r\n              />\r\n            </div>\r\n\r\n            <AlertMessage info={alert} />\r\n\r\n            <button type=\"submit\" className=\"btn btn-block mt-4\">\r\n              Đăng nhập\r\n            </button>\r\n\r\n            <Link to=\"/register\" className=\"d-flex justify-content-center mt-3\">\r\n              Tạo tài khoản?\r\n            </Link>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { AuthContext } from 'api/contexts/AuthContext';\r\nimport AlertMessage from 'components/layout/AlertMessage';\r\nimport React, { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nconst Register = () => {\r\n  const { register } = useContext(AuthContext);\r\n  const [registerForm, setRegisterForm] = useState({\r\n    fullname: '',\r\n    username: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n  });\r\n\r\n  const { fulname, username, password, confirmPassword } = registerForm;\r\n  const [alert, setAlert] = useState(null);\r\n\r\n  const handleOnChange = (e) => {\r\n    setRegisterForm({ ...registerForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if(password !== confirmPassword){\r\n      setAlert({ type: 'danger', message: \"Mật khẩu không khớp 😞\" });\r\n      setTimeout(() => setAlert(null), 5000);\r\n      return\r\n    }\r\n\r\n    try {\r\n      const registerData = await register(registerForm);\r\n      if (!registerData.success) {\r\n        setAlert({ type: 'danger', message: registerData.message });\r\n        setTimeout(() => setAlert(null), 5000);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"row wrapper\">\r\n      <div className=\"col-10 col-lg-5\">\r\n        <form className=\"shadow-lg mb-5\" onSubmit={handleSubmit}>\r\n          <h1 className=\"mb-3 title\">Chat App</h1>\r\n\r\n          <h3 className=\"mb-3 title\">Đăng ký</h3>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"fullname_field\">Họ tên</label>\r\n            <input\r\n              type=\"name\"\r\n              className=\"form-control\"\r\n              name=\"fullname\"\r\n              value={fulname}\r\n              onChange={handleOnChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username_field\">Username</label>\r\n            <input\r\n              type=\"name\"\r\n              className=\"form-control\"\r\n              name=\"username\"\r\n              value={username}\r\n              onChange={handleOnChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password_field\">Mật khẩu</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleOnChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"cf_password_field\">Xác nhận mật khẩu</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              name=\"confirmPassword\"\r\n              value={confirmPassword}\r\n              onChange={handleOnChange}\r\n            />\r\n          </div>\r\n          <AlertMessage info={alert} />\r\n          <button type=\"submit\" className=\"btn btn-block mt-4\">\r\n            Đăng ký\r\n          </button>\r\n\r\n          <Link to=\"/login\" className=\"d-flex justify-content-center mt-3\">\r\n            Đăng nhập\r\n          </Link>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import Loader from 'components/layout/Loader';\r\nimport { AuthContext } from 'api/contexts/AuthContext';\r\nimport React, { useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\n\r\nconst Auth = ({ authRoute }) => {\r\n    const {\r\n\t\tauthState: { loading, isAuthenticated }\r\n\t} = useContext(AuthContext)\r\n\r\n\tlet body\r\n\r\n\tif (loading)\r\n\t\tbody = (\r\n\t\t\t<Loader/>\r\n\t\t)\r\n\telse if (isAuthenticated) return <Redirect to='/chat' />\r\n\telse\r\n\t\tbody = (\r\n\t\t\t<>\r\n\t\t\t\t{authRoute === 'login' && <Login />}\r\n\t\t\t\t{authRoute === 'register' && <Register />}\r\n\t\t\t</>\r\n\t\t)\r\n\r\n    return (\r\n        <div className=\"container container-fluid\">\r\n            {body}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Auth;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nconst ListUser = ({ conversation, currentUser }) => {\r\n  const [user, setUser] = useState(null);\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        // tìm nhưng userId trong cuộc hội thoại khác với userid hiện tại\r\n        const friendId = conversation.members.find((member) => member !== currentUser._id);\r\n        // lấy ra danh sách user nhận sự thay đổi từ currentUser,conversation\r\n        const response = await axios.get(`/api/auth?userId=` + friendId);\r\n        setUser(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n        throw new Error(error);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [currentUser, conversation]);\r\n\r\n\r\n  return (\r\n    <li className=\"active\">\r\n      <div className=\"d-flex bd-highlight\">\r\n        <div className=\"img_cont\">\r\n          <img src={user?.avatar} className=\"rounded-circle user_img\" alt=\"avatar\" />\r\n        </div>\r\n        <div className=\"user_info\">\r\n          <span>{user?.fullname}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ListUser;\r\n","import React, { Fragment } from 'react';\r\nimport { format } from 'timeago.js';\r\nimport ReactEmoji from 'react-emoji';\r\n\r\nconst Message = ({ message, owner }) => {\r\n  return (\r\n    <Fragment>\r\n      <div className={owner ? 'd-flex justify-content-end' : 'd-flex justify-content-start'}>\r\n        <div className={owner ? 'msg_cotainer' : 'msg_cotainer_send'}>{ReactEmoji.emojify(message.text)}</div>\r\n      </div>\r\n      <span className={owner ? 'msg_time_send ' : 'msg_time'}>{format(message.createdAt)}</span>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import { AuthContext } from 'api/contexts/AuthContext';\r\nimport { URL_SOCKET } from 'api/contexts/contants';\r\nimport axios from 'axios';\r\nimport React, { Fragment, useContext, useEffect, useRef, useState } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport ListUser from './ListUser';\r\nimport Message from './Message';\r\n\r\nconst Chat = () => {\r\n  const {\r\n    authState: { user },\r\n    logout,\r\n  } = useContext(AuthContext);\r\n\r\n  const [conversations, setConversations] = useState([]);\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [userAnother, setUserAnother] = useState(null);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [arrivalMessage, setArrivalMessage] = useState('');\r\n  const scrollRef = useRef();\r\n\r\n  const handleLogOut = () => logout();\r\n  // Bắt đầu kết nối tới socket\r\n  const socket = useRef();\r\n\r\n  useEffect(() => {\r\n    socket.current = io(URL_SOCKET);\r\n    // nhận lại danh sách tin nhắn  từ phía server\r\n    socket.current.on('get_message', (data) => {\r\n      setArrivalMessage({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  // list ra danh sách tin nhắn và nhận sự thay đổi khi có tin nhắn mới tới trong phòng chat hiện tại\r\n  //  [...prev, arrivalMessage]) list ra tin nhắn cũ và mới\r\n  useEffect(() => {\r\n    arrivalMessage &&\r\n      currentChat?.members.includes(arrivalMessage.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMessage]);\r\n  }, [arrivalMessage, currentChat]);\r\n\r\n  //socket nhận sự thay đổi từ user\r\n  useEffect(() => {\r\n    // client gửi sự kiện 'add_user' với userId hiện tại cho server\r\n    socket.current.emit('add_user', user._id);\r\n    //  client nhận lại danh sách user đang onl\r\n    socket.current.on('get_users', (users) => {\r\n      console.log(users);\r\n    });\r\n  }, [user]);\r\n\r\n  // lấy ra danh sách cuộc hội thoại nhận sự thay đổi từ user._id\r\n  useEffect(() => {\r\n    const getConversation = async () => {\r\n      try {\r\n        const response = await axios.get(`/api/conversation/` + user._id);\r\n        setConversations(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n        throw new Error(error);\r\n      }\r\n    };\r\n    getConversation();\r\n  }, [user._id]);\r\n\r\n  // lấy ra nhưng message thoại nhận sự thay đổi từ currentChat\r\n  useEffect(() => {\r\n    const getMessage = async () => {\r\n      try {\r\n        const response = await axios.get(`/api/message/` + currentChat?._id);\r\n        setMessages(response.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n        throw new Error(error);\r\n      }\r\n    };\r\n    getMessage();\r\n  }, [currentChat]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const content = newMessage.trim();\r\n    // nếu giá trị rỗng ko đc phép gửi\r\n    if (!content) {\r\n      return;\r\n    }\r\n\r\n    const message = {\r\n      sender: user._id,\r\n      text: content,\r\n      conversationId: currentChat._id,\r\n    };\r\n\r\n    // lọc ra người nhận tương ứng trong cuộc trò chuyện hiện tại\r\n    const receiverId = currentChat.members.find((member) => member !== user._id);\r\n    // gửi tin nhắn cho phía server và nhận lại ở phía đối phương\r\n    socket.current.emit('send_message', {\r\n      senderId: user._id,\r\n      receiverId,\r\n      text: content,\r\n    });\r\n    try {\r\n      const response = await axios.post(`/api/message`, message);\r\n      setMessages([...messages, response.data]);\r\n      setNewMessage('');\r\n    } catch (error) {\r\n      console.log(error);\r\n      throw new Error(error);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = async (e) => {\r\n    if (e.key === 'Enter') {\r\n      const content = newMessage.trim();\r\n      // nếu giá trị rỗng ko đc phép gửi\r\n      if (!content) {\r\n        return;\r\n      }\r\n      const message = {\r\n        sender: user._id,\r\n        text: content,\r\n        conversationId: currentChat._id,\r\n      };\r\n\r\n      // lọc ra người nhận tương ứng trong cuộc trò chuyện hiện tại\r\n      const receiverId = currentChat.members.find((member) => member !== user._id);\r\n      // gửi tin nhắn cho phía server và nhận lại ở phía đối phương\r\n      socket.current.emit('send_message', {\r\n        senderId: user._id,\r\n        receiverId,\r\n        text: content,\r\n      });\r\n\r\n      try {\r\n        const response = await axios.post(`/api/message`, message);\r\n        setMessages([...messages, response.data]);\r\n        setNewMessage('');\r\n      } catch (error) {\r\n        console.log(error);\r\n        throw new Error(error);\r\n      }\r\n    }\r\n  };\r\n  // scrollbar\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  // hàm thực hiện chức năng lấy ra bạn đang chat nhận sự thay đổi từ phòng chat hiện tại và user\r\n  useEffect(() => {\r\n    const getUserAnother = async () => {\r\n      try {\r\n        const friendId = currentChat?.members.find((m) => m !== user._id);\r\n        console.log(friendId, 'friendId');\r\n        if (friendId) {\r\n          const response = await axios.get(`/api/auth?userId=` + friendId);\r\n          setUserAnother(response.data)\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n        throw new Error(error);\r\n      }\r\n    };\r\n    getUserAnother();\r\n  }, [currentChat, user._id]);\r\n\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"container-fluid h-100\">\r\n        <div className=\"row justify-content-center h-100\">\r\n          <div className=\"col-md-4 col-xl-3 chat\">\r\n            <div className=\"card mb-sm-3 mb-md-0 contacts_card\">\r\n              <div className=\"card-header\">\r\n                <div className=\"d-flex bd-highlight\">\r\n                  <div className=\"img_cont\">\r\n                    <img src={user.avatar} className=\"rounded-circle user_img\" alt=\"avatar\" />\r\n                    <span className=\"online_icon\"></span>\r\n                  </div>\r\n                  <div className=\"user_info\">\r\n                    <span>{user.fullname}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"input-group mt-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search...\"\r\n                    className=\"form-control search\"\r\n                    name=\"\"\r\n                  />\r\n                  <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text search_btn\">\r\n                      <i className=\"fas fa-search\"></i>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"card-body contacts_body\">\r\n                <ul className=\"contacts\">\r\n                  {conversations.map((conversation) => (\r\n                    <div onClick={() => setCurrentChat(conversation)} key={conversation._id}>\r\n                      <ListUser conversation={conversation} currentUser={user} />\r\n                    </div>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-8 col-xl-6 chat\">\r\n            <div className=\"card\">\r\n              {currentChat ? (\r\n                <Fragment>\r\n                  <div className=\"card-header msg_head\">\r\n                    <div className=\"d-flex bd-highlight\">\r\n                      <div className=\"img_cont\">\r\n                        <img src={userAnother?.avatar} className=\"rounded-circle user_img\" alt=\"\" />\r\n                      </div>\r\n                      <div className=\"user_info\">\r\n                        <span>{userAnother?.fullname}</span>\r\n                      </div>\r\n                      <div className=\"video_cam\">\r\n                        <span>\r\n                          <i className=\"fas fa-video\"></i>\r\n                        </span>\r\n                        <span>\r\n                          <i className=\"fas fa-phone\"></i>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <span id=\"action_menu_btn\" onClick={handleLogOut}>\r\n                      <i className=\"fas fa-sign-out-alt\"></i>\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"card-body msg_card_body\">\r\n                    {messages.map((message) => (\r\n                      <div ref={scrollRef} key={message._id}>\r\n                        <Message key={message._id} message={message} owner={message.sender === user._id} />\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div className=\"card-footer\">\r\n                    <div className=\"input-group\">\r\n                      <div className=\"input-group-append\">\r\n                        <span className=\"input-group-text attach_btn\">\r\n                          <i className=\"fas fa-paperclip\"></i>\r\n                        </span>\r\n                      </div>\r\n                      <input\r\n                        placeholder=\"Type your message...\"\r\n                        className=\"form-control type_msg\"\r\n                        name=\"newMessage\"\r\n                        value={newMessage}\r\n                        onChange={(e) => setNewMessage(e.target.value)}\r\n                        onKeyDown={handleKeyPress}\r\n                      />\r\n                      <div className=\"input-group-append\">\r\n                        <span className=\"input-group-text send_btn\" onClick={handleSubmit}>\r\n                          <i className=\"fas fa-location-arrow\"></i>\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Fragment>\r\n              ) : (\r\n                <Fragment>\r\n                  <div className=\"card-header msg_head\">\r\n                    <span id=\"action_menu_btn\" onClick={handleLogOut}>\r\n                      <i className=\"fas fa-sign-out-alt\"></i>\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"alert alert-info alert-dismissible fade show mt-4\" role=\"alert\">\r\n                    Mời chọn cuộc hội thoại\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                      <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                  </div>\r\n                </Fragment>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import ProtectedRoute from 'components/routing/ProtectedRoute';\nimport AuthContextProvider from 'api/contexts/AuthContext';\nimport { Suspense } from 'react';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Auth from './components/Auth/Auth';\nimport Chat from './components/Chat';\n\nfunction App() {\n  return (\n    <AuthContextProvider>\n      <div className=\"App\">\n        <Suspense fallback={<div>Loading ...</div>}>\n          <Router>\n            <Switch>\n              <Redirect exact from=\"/\" to=\"/login\" />\n\n              <Route\n                exact\n                path=\"/login\"\n                render={(props) => <Auth {...props} authRoute=\"login\" />}\n              />\n              <Route\n                exact\n                path=\"/register\"\n                render={(props) => <Auth {...props} authRoute=\"register\" />}\n              />\n              <ProtectedRoute path=\"/chat\" component={Chat} />\n            </Switch>\n          </Router>\n        </Suspense>\n      </div>\n    </AuthContextProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}